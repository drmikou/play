@(graphId: String, title: String, dataMap: Map[utils.core.graph.GraphSerie, Map[Double, Double]], callBackOnClick: Html = Html(""), timeLine: Boolean = false, size: Integer = 12)


<div class="col-md-@size">
	<div class="text-center">
	    @title
	</div>

	<div id="@(graphId)GraphFunction" style="width:100%;height:250px;"></div>
</div>

<script>
$(function() {
        var data = [];
        @for(((function, functionDataMap), currentIndex) <- dataMap.zipWithIndex) {
            var functionData = [];

            @for((xData, yData) <- functionDataMap.toSeq.sorted) {
                functionData.push([@xData, @yData]);
            }

            data[@currentIndex] = { label: "@function.label",
                                    @if(function.color != null) {
                                        color: "@function.color",
                                    }
                                    data: functionData};
        }

	    $.plot($("#@(graphId)GraphFunction"), data, {
	               series: {
	                   lines: { show: true, fill: true},
	                   points: { show: true }
	               },
	               grid: { hoverable: true, clickable: true, borderWidth:0 },
	               @if(timeLine){
	               	xaxis: {
	                	mode: "time",
						timeformat: "%d/%m/%y"
	                }	
	               }
	             });

	    $("#@(graphId)GraphFunction").bind("plotclick", function (event, pos, item) {
	        if (item) {
                @callBackOnClick
	        }
	    });

});

</script>
